<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selamat Idul Fitri 1446 H</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <canvas id="starsCanvas"></canvas>
    <div class="container">
        <!-- Three.js Canvas Container -->
        <div id="canvas-container"></div>

        <!-- Floating Decorations Outside Card -->
        <div class="external-decorations">
            <!-- Ketupat Floating -->
            <div class="floating-ketupat ketupat-float-1">
                <div class="ketupat-diamond"></div>
            </div>
            <div class="floating-ketupat ketupat-float-2">
                <div class="ketupat-diamond"></div>
            </div>
            <div class="floating-ketupat ketupat-float-3">
                <div class="ketupat-diamond"></div>
            </div>
            <div class="floating-ketupat ketupat-float-4">
                <div class="ketupat-diamond"></div>
            </div>

            <!-- Moon & Stars Floating -->
            <div class="floating-moon moon-float-1">
                <div class="crescent"></div>
                <div class="star"></div>
            </div>
            <div class="floating-moon moon-float-2">
                <div class="crescent"></div>
                <div class="star"></div>
            </div>

            <!-- Islamic Lanterns -->
            <div class="lantern lantern-1">
                <div class="lantern-top"></div>
                <div class="lantern-body"></div>
                <div class="lantern-bottom"></div>
            </div>
            <div class="lantern lantern-2">
                <div class="lantern-top"></div>
                <div class="lantern-body"></div>
                <div class="lantern-bottom"></div>
            </div>

            <!-- Small Stars Scattered -->
            <div class="small-star star-1"></div>
            <div class="small-star star-2"></div>
            <div class="small-star star-3"></div>
            <div class="small-star star-4"></div>
            <div class="small-star star-5"></div>
            <div class="small-star star-6"></div>
        </div>

        <!-- Confetti Stripes Container -->
        <div class="confetti-container" id="confettiContainer"></div>

        <!-- 2D Content Overlay -->
        <div class="content-overlay" id="contentOverlay">
            <div class="greeting-card" id="greetingCard">
                
                <!-- OUTER CORNER ORNAMENTS (Outside card borders) -->
                <div class="outer-ornament outer-top-left">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <!-- Main corner flourish -->
                        <path d="M 5 5 Q 5 35, 35 35" stroke="#d4af37" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 15 5, 25 15" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 5 15, 15 25" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        
                        <!-- Decorative swirls -->
                        <path d="M 35 35 Q 45 30, 50 35 Q 45 40, 40 35" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        <path d="M 35 35 Q 30 45, 35 50 Q 40 45, 35 40" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        
                        <!-- Dots -->
                        <circle cx="5" cy="5" r="3" fill="#d4af37"/>
                        <circle cx="35" cy="35" r="2.5" fill="#d4af37"/>
                        <circle cx="20" cy="20" r="1.5" fill="#d4af37"/>
                    </svg>
                </div>

                <div class="outer-ornament outer-top-right">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 5 5 Q 5 35, 35 35" stroke="#d4af37" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 15 5, 25 15" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 5 15, 15 25" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 35 35 Q 45 30, 50 35 Q 45 40, 40 35" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        <path d="M 35 35 Q 30 45, 35 50 Q 40 45, 35 40" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        <circle cx="5" cy="5" r="3" fill="#d4af37"/>
                        <circle cx="35" cy="35" r="2.5" fill="#d4af37"/>
                        <circle cx="20" cy="20" r="1.5" fill="#d4af37"/>
                    </svg>
                </div>

                <div class="outer-ornament outer-bottom-left">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 5 5 Q 5 35, 35 35" stroke="#d4af37" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 15 5, 25 15" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 5 15, 15 25" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 35 35 Q 45 30, 50 35 Q 45 40, 40 35" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        <path d="M 35 35 Q 30 45, 35 50 Q 40 45, 35 40" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        <circle cx="5" cy="5" r="3" fill="#d4af37"/>
                        <circle cx="35" cy="35" r="2.5" fill="#d4af37"/>
                        <circle cx="20" cy="20" r="1.5" fill="#d4af37"/>
                    </svg>
                </div>

                <div class="outer-ornament outer-bottom-right">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 5 5 Q 5 35, 35 35" stroke="#d4af37" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 15 5, 25 15" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 5 5 Q 5 15, 15 25" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 35 35 Q 45 30, 50 35 Q 45 40, 40 35" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        <path d="M 35 35 Q 30 45, 35 50 Q 40 45, 35 40" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        <circle cx="5" cy="5" r="3" fill="#d4af37"/>
                        <circle cx="35" cy="35" r="2.5" fill="#d4af37"/>
                        <circle cx="20" cy="20" r="1.5" fill="#d4af37"/>
                    </svg>
                </div>

                <!-- INNER CORNER ORNAMENTS (Inside card) -->
                <div class="inner-ornament inner-top-left">
                    <svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 10 10 Q 10 30, 30 30" stroke="#d4af37" stroke-width="2" fill="none" opacity="0.7"/>
                        <path d="M 10 10 L 20 10 M 10 10 L 10 20" stroke="#d4af37" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="30" cy="30" r="2" fill="#d4af37" opacity="0.7"/>
                        <!-- Leaf flourish -->
                        <path d="M 30 30 Q 35 32, 38 28 Q 36 25, 32 27" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                        <path d="M 30 30 Q 32 35, 28 38 Q 25 36, 27 32" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                    </svg>
                </div>

                <div class="inner-ornament inner-top-right">
                    <svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 10 10 Q 10 30, 30 30" stroke="#d4af37" stroke-width="2" fill="none" opacity="0.7"/>
                        <path d="M 10 10 L 20 10 M 10 10 L 10 20" stroke="#d4af37" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="30" cy="30" r="2" fill="#d4af37" opacity="0.7"/>
                        <path d="M 30 30 Q 35 32, 38 28 Q 36 25, 32 27" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                        <path d="M 30 30 Q 32 35, 28 38 Q 25 36, 27 32" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                    </svg>
                </div>

                <div class="inner-ornament inner-bottom-left">
                    <svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 10 10 Q 10 30, 30 30" stroke="#d4af37" stroke-width="2" fill="none" opacity="0.7"/>
                        <path d="M 10 10 L 20 10 M 10 10 L 10 20" stroke="#d4af37" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="30" cy="30" r="2" fill="#d4af37" opacity="0.7"/>
                        <path d="M 30 30 Q 35 32, 38 28 Q 36 25, 32 27" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                        <path d="M 30 30 Q 32 35, 28 38 Q 25 36, 27 32" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                    </svg>
                </div>

                <div class="inner-ornament inner-bottom-right">
                    <svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 10 10 Q 10 30, 30 30" stroke="#d4af37" stroke-width="2" fill="none" opacity="0.7"/>
                        <path d="M 10 10 L 20 10 M 10 10 L 10 20" stroke="#d4af37" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="30" cy="30" r="2" fill="#d4af37" opacity="0.7"/>
                        <path d="M 30 30 Q 35 32, 38 28 Q 36 25, 32 27" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                        <path d="M 30 30 Q 32 35, 28 38 Q 25 36, 27 32" stroke="#d4af37" stroke-width="1.2" fill="none" opacity="0.6"/>
                    </svg>
                </div>

                <!-- Top Decorative Line -->
                <div class="decorative-line top-line">
                    <svg viewBox="0 0 300 40" xmlns="http://www.w3.org/2000/svg">
                        <!-- Left side ornament -->
                        <path d="M 10 20 Q 30 15, 50 20" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 50 20 Q 70 18, 90 20" stroke="#d4af37" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                        <circle cx="60" cy="20" r="2.5" fill="#d4af37"/>
                        <circle cx="75" cy="18" r="2" fill="#d4af37"/>
                        
                        <!-- Left swirl -->
                        <path d="M 90 20 C 100 15, 110 15, 120 20" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        
                        <!-- Center star -->
                        <path d="M 150 15 L 152 20 L 157 20 L 153 23 L 155 28 L 150 25 L 145 28 L 147 23 L 143 20 L 148 20 Z" 
                              fill="#d4af37" stroke="#d4af37" stroke-width="0.5"/>
                        
                        <!-- Right swirl -->
                        <path d="M 180 20 C 190 15, 200 15, 210 20" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        
                        <!-- Right side ornament -->
                        <path d="M 210 20 Q 230 18, 250 20" stroke="#d4af37" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                        <path d="M 250 20 Q 270 15, 290 20" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <circle cx="240" cy="20" r="2.5" fill="#d4af37"/>
                        <circle cx="225" cy="18" r="2" fill="#d4af37"/>
                        
                        <!-- Connecting curved lines -->
                        <path d="M 120 20 Q 135 22, 145 20" stroke="#d4af37" stroke-width="1.2" fill="none"/>
                        <path d="M 155 20 Q 165 22, 180 20" stroke="#d4af37" stroke-width="1.2" fill="none"/>
                    </svg>
                </div>

                <!-- Bottom Decorative Line -->
                <div class="decorative-line bottom-line">
                    <svg viewBox="0 0 300 40" xmlns="http://www.w3.org/2000/svg">
                        <!-- Left side ornament -->
                        <path d="M 10 20 Q 30 25, 50 20" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 50 20 Q 70 22, 90 20" stroke="#d4af37" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                        <circle cx="60" cy="20" r="2.5" fill="#d4af37"/>
                        <circle cx="75" cy="22" r="2" fill="#d4af37"/>
                        
                        <!-- Left swirl -->
                        <path d="M 90 20 C 100 25, 110 25, 120 20" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        
                        <!-- Center star -->
                        <path d="M 150 25 L 152 20 L 157 20 L 153 17 L 155 12 L 150 15 L 145 12 L 147 17 L 143 20 L 148 20 Z" 
                              fill="#d4af37" stroke="#d4af37" stroke-width="0.5"/>
                        
                        <!-- Right swirl -->
                        <path d="M 180 20 C 190 25, 200 25, 210 20" stroke="#d4af37" stroke-width="1.5" fill="none"/>
                        
                        <!-- Right side ornament -->
                        <path d="M 210 20 Q 230 22, 250 20" stroke="#d4af37" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                        <path d="M 250 20 Q 270 25, 290 20" stroke="#d4af37" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <circle cx="240" cy="20" r="2.5" fill="#d4af37"/>
                        <circle cx="225" cy="22" r="2" fill="#d4af37"/>
                        
                        <!-- Connecting curved lines -->
                        <path d="M 120 20 Q 135 18, 145 20" stroke="#d4af37" stroke-width="1.2" fill="none"/>
                        <path d="M 155 20 Q 165 18, 180 20" stroke="#d4af37" stroke-width="1.2" fill="none"/>
                    </svg>
                </div>

                <!-- Center Islamic Symbol (Watermark) -->
                <div class="center-symbol">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <!-- Crescent moon -->
                        <circle cx="50" cy="50" r="35" fill="#d4af37"/>
                        <circle cx="55" cy="50" r="30" fill="#ffffff"/>
                        <!-- Star -->
                        <path d="M 75 35 L 78 42 L 85 42 L 79 47 L 82 54 L 75 49 L 68 54 L 71 47 L 65 42 L 72 42 Z" 
                              fill="#d4af37"/>
                    </svg>
                </div>

                <div class="greeting-text">
                    <h1>Selamat Hari Raya</h1>
                    <h2>Idul Fitri</h2>
                    <p class="year">1446 H</p>
                    <p class="dua">Minal Aidin Wal Faizin<br>Mohon Maaf Lahir & Batin</p>
                </div>
            </div>
        </div>

        <!-- Click Instruction -->
        <div class="click-instruction" id="clickInstruction">
            <div class="hand-icon">ðŸ‘†</div>
            <p>Klik kardus untuk membuka</p>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Memuat...</p>
        </div>
    </div>

    <!-- Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Confetti Stripes Script -->
    <script>
        // Function to create confetti stripes when card appears
        function createConfettiStripes() {
            const confettiContainer = document.getElementById('confettiContainer');
            if (!confettiContainer) return;
            
            const colors = ['#d4af37', '#2c5f2d', '#4a8f4c', '#ffd700', '#ff6b6b', '#4ecdc4', '#ffe66d', '#95e1d3'];
            const numStripes = 50; // Number of stripes
            
            for (let i = 0; i < numStripes; i++) {
                setTimeout(() => {
                    const stripe = document.createElement('div');
                    stripe.className = 'confetti-stripe';
                    
                    // Random color
                    stripe.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    // Random horizontal position
                    stripe.style.left = Math.random() * 100 + '%';
                    
                    // Random size variations
                    const width = 8 + Math.random() * 8;
                    const height = 30 + Math.random() * 30;
                    stripe.style.width = width + 'px';
                    stripe.style.height = height + 'px';
                    
                    // Random animation duration
                    const duration = 2.5 + Math.random() * 1.5;
                    stripe.style.animationDuration = duration + 's';
                    
                    // Random delay
                    const delay = Math.random() * 0.5;
                    stripe.style.animationDelay = delay + 's';
                    
                    confettiContainer.appendChild(stripe);
                    
                    // Remove after animation
                    setTimeout(() => {
                        stripe.remove();
                    }, (duration + delay) * 1000);
                }, i * 30); // Stagger creation
            }
        }
        
        // Trigger confetti when content overlay becomes visible
        const confettiObserver = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                    const overlayElement = document.getElementById('contentOverlay');
                    if (overlayElement && overlayElement.classList.contains('visible')) {
                        // Delay confetti slightly after card appears
                        setTimeout(() => {
                            createConfettiStripes();
                        }, 300);
                        confettiObserver.disconnect(); // Only trigger once
                    }
                }
            });
        });
        
        // Start observing
        const overlayToObserve = document.getElementById('contentOverlay');
        if (overlayToObserve) {
            confettiObserver.observe(overlayToObserve, { attributes: true });
        }
    </script>

    <!-- Separated Scripts -->
    <script src="firework.js"></script>
    <script src="popup.js"></script>
    <script src="script.js"></script>
    <script src="stars.js"></script>
</body>

</html>
